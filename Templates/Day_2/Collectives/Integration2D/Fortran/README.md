## Material for the course:
# An introduction to parallel programming using Message Passing with MPI
## Authors: Joachim Hein, Soheil Soltani, Pedro Ojeda, and Xin Li


* Load the correspoding modules for the compilers depending on the
system that you are using

* Compile the C examples by running the following command on the
terminal:
```
gcc
```

* Compile the Fortran examples by running the following command on the
terminal:
```
gfortran integration2D_serial_f90.f90 -o exec 
```

and run it by giving the desired number of bins as an argument: 
./exec 1000 


* 2D integration background

In this example you will calculate the double integral:

<img src="https://render.githubusercontent.com/render/math?math=\int_{0}^{\pi}\int_{0}^{\pi} \sin(x %2B y) dx dy">

One way to do this calculation is as follows. We start by discretizing the 
range in both *x* and *y* into bins of equal size. This will create a grid of *nxn* bins 
where *n* is an input parameter provided by the user. We can then solve the integral
by using a double loop for the integrations in *x* and *y*. 

```
y
|
| Pi
|___|___|___|___|___|___|___|___|     | 
|___|___|___|___|___|___|___|___|     | 
|___|___|___|___|___|___|___|___|     | 
|___|___|___|___|___|___|___|___|     | 
|___|___|___|___|___|___|___|___| ... | 
|___|___|___|___|___|___|___|___|     | 
|___|___|___|___|___|___|___|___|     | 
|___|___|___|___|___|___|___|___|     | 
|   |   |   |   |   |   |   |   | nxn | 
---------------------------------------------->
                                     Pi       x
```

As a first approximation, we can take the volume generated by each grid element
(i,j) being equal to <img src="https://render.githubusercontent.com/render/math?math=\sin(x_{i} %2B y_{j}) dx dy">,
with <img src="https://render.githubusercontent.com/render/math?math=dx=dy=\pi/n"> and 
<img src="https://render.githubusercontent.com/render/math?math=x_{i},y_{j}"> being the center 
of the grid element. 

This problem is useful for two reasons, first we know the exact value of the integral
(0) and second because it includes a double integral, the computation is heavier 
enough to detect the effects of a parallel implementation.


